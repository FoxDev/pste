{% extends 'base.html' %}

{% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.css"
          integrity="sha256-e47xOkXs1JXFbjjpoRr1/LhVcqSzRmGmPqsrUQeVs+g=" crossorigin="anonymous"/>
{% endblock %}

{% block scripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.js"
            integrity="sha256-cs4thShDfjkqFGk5s2Lxj35sgSRr4MRcyccmi0WKqCM=" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/dropzone.js') }}"></script>
{% endblock %}

{% block content %}
    <div class="row justify-content-center">
        <div class="col-md-10 col-lg-10">
            <div>
                <form action="{{ url_for('api.upload') }}" class="dropzone text-center text-muted"
                      id="pste-upload"></form>
            </div>
            <hr>
            <div class="text-muted"><p>...or use the command line.</p></div>
            <div>
                <code>curl -H "Authorization: Bearer {{ current_user.api_key }}" -F file=@/path/to/file {{ url_for('api.upload', _external=True) }}</code>
                <hr>
                <div class="text-muted"><p>Delete a file by slug.</p></div>
                <code>curl -X DELETE -H "Authorization: Bearer {{ current_user.api_key }}" {{ url_for('api.delete', slug='example.png', _external=True) }}</code>
                <hr>
                <div class="text-muted"><p>List your uploaded files. Supports optional ?page parameter for pagination.</p></div>
                <code>curl -H "Authorization: Bearer {{ current_user.api_key }}" {{ url_for('api.files', _external=True) }}</code>
            </div>
        </div>
    </div>

{% endblock %}
